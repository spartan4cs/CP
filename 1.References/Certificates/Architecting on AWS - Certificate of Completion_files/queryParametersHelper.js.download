/** Copyright 2021 Amazon.com Inc. or its affiliates. All Rights Reserved. **/
define(["jquery","purl","stringHelper","browserHelper","windowHelper","argumentNullError","argumentError","invalidOperationError"],function($,a,b,c,d,e,f,g){var h;return h={},h.updateQueryParameterValue=function(a,f){var g,i,j,k,l,m;if(b.isStringNullOrWhiteSpace(a))throw e.createInstance("parameterName");if(null===f||void 0===f)return void h.removeQueryParameter(a);k=d.getLocationObject(),g=k.href,a=a.toString().toLowerCase(),i=$.url(g,!0).param();for(l in i)i.hasOwnProperty(l)&&l.toLowerCase()===a&&(m=l);return m=m||a,i[m]=f,j=k.pathname+"?"+$.param(i),g=k.protocol+"//"+k.host+j,!1===c.isOldIE()&&d.getHistoryObject().replaceState(null,document.title,j),g},h.addOrUpdateQueryParameterValue=function(a,b,c){var e,f,g,h;if(!b)throw"parameterName is null or empty.";if(null===c||void 0===c)throw"parameterValue is null or undefined.";a=a||d.getLocationObject().href,b=b.toString().toLowerCase(),h=$.url(a,!0),e=h.param();for(f in e)e.hasOwnProperty(f)&&f.toLowerCase()===b&&(g=f);return g=g||b,e[g]=c,h.data.attr.base+h.data.attr.path+"?"+$.param(e)},h.getQueryParameterValue=function(a,c){var f,g;if(b.isStringNullOrWhiteSpace(c))throw e.createInstance("parameterName");b.isStringNullOrWhiteSpace(a)&&(a=d.getLocationObject().href),c=c.toString().toLowerCase(),f=$.url(a,!0).param();for(g in f)if(f.hasOwnProperty(g)&&g.toLowerCase()===c)return f[g];return null},h.removeQueryParameter=function(a){var f,g,i,j,k,l;if(b.isStringNullOrWhiteSpace(a))throw e.createInstance("parameterName");if(g=d.getLocationObject(),a=a.toLowerCase(),f=g.href,null===(j=h.getQueryParameterValue(f,a))||void 0===j)return f;j=a+"="+j,k=g.search.substring(1).split("&");for(l in k)if(k.hasOwnProperty(l)&&k[l].toLowerCase()===j.toLowerCase()){k.splice(l,1);break}return i=g.pathname,k.length>0&&(i=i+"?"+k.join("&")),!1===c.isOldIE()&&d.getHistoryObject().replaceState(null,document.title,i),b.trimStringEnd(g.origin,"/",!0)+"/"+b.trimStringStart(i,"/",!0)},h.removeQueryString=function(){var a,b;return a=d.getLocationObject(),b=a.pathname,!1===c.isOldIE()&&d.getHistoryObject().replaceState(null,document.title,b),a.origin+b},h.updateQueryString=function(a){var g,h;if(b.isStringNullOrWhiteSpace(a))throw e.createInstance("newQueryString");if(!b.stringStartsWith(a,"?",!0))throw f.createInstance("Query string must start with a '?'.");return g=d.getLocationObject(),h=g.pathname+a,!1===c.isOldIE()&&d.getHistoryObject().replaceState(null,document.title,h),g.origin+h},h.updateQueryStringFromObject=function(a){var b;return a?(b=$.param(a),b?h.updateQueryString("?"+b):null):null},h});