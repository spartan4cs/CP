/** Copyright 2021 Amazon.com Inc. or its affiliates. All Rights Reserved. **/
function stackTraceToArray(a){if("string"!=typeof a)return a;for(var b=[],c=a.split(/[\r\n]/g),d=0;d<c.length;d++){var e=c[d].trim();0!==e.length&&b.push(e)}return b}function getUrlObject(a){return"object"==typeof a&&a?{fullUrl:a.href,host:a.host,path:a.pathname,queryString:a.search?a.search.substring(1):""}:{fullUrl:"",host:"",path:"",queryString:""}}var SCRIPT_ERROR="script error";require(["jquery","ajaxHelper","argumentNullError","initializer","languageOptions"],function($,a,b,c,d){function e(a){return"object"==typeof a&&a?$.extend(a,{message:a.message,name:a.name||"Error",stack:stackTraceToArray(a.stack)}):a}$(document).ready(function(){if(!b)throw new Error("ArgumentNullError is null, empty or undefined.");if(!c)throw b.createInstance("initializer");if(!d)throw b.createInstance("languageOptions");c.getDOMRefs(),c.initialize(d)}),window.onerror=function(b,c,d,f,g){try{var h={message:b,logLevel:"error",userAgent:navigator&&navigator.userAgent,url:getUrlObject(window.location),lineNumber:d,columnNumber:f,isDifferentOriginError:0===(b||"").toLowerCase().indexOf(SCRIPT_ERROR),error:e(g)};a.invokeWebApi("POST","/api/v1/audit/log",!0,null,null,null,null,JSON.stringify({logLevel:"error",message:JSON.stringify(h)}))}catch(a){console.error("An error occurred while trying to send an error log message.",a,g)}}});